<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <link href='css/fullcalendar.css' rel='stylesheet' />
  <link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
  <script src='libs/fullcalendar/moment.min.js'></script>
  <script src='libs/fullcalendar/jquery.min.js'></script>
  <script src='libs/fullcalendar/fullcalendar.min.js'></script>


  <script>

  $(document).ready(function() {

    $('#calendar').fullCalendar({
      defaultDate: '2016-05-12',
      editable: true,
      eventLimit: true, // allow "more" link when too many events
      events: createEvents(),
    });

  });

  function createEvents()
  {
    var events =[],
    array = createList();
    for(var i = 0;i<array.length;i++)
    {
      events.push({
        title:                  array[i].task,
        start:                  array[i].time,
      });
    }
    console.log(events);
    return events;
  }

  function createList() {
    return getJSONARRAY(localStorage.getItem('json'));
  }
  function getJSONARRAY(strJSON){
    if(strJSON == null)
    return [];
    else
    return $.parseJSON(strJSON);
  }

  </script>
  <style>

  body {
    margin: 40px 10px;
    padding: 0;
    font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
    font-size: 14px;
  }

  #calendar {
    max-width: 900px;
    margin: 0 auto;
  }

  </style>
</head>
<body>

  <div id='calendar'></div>

</body>
</html>
